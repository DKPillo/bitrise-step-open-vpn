title: |-
  Connect to OpenVPN Server
summary: |
  Connect to OpenVPN Server
description: |
  Connect to OpenVPN Server
website: https://github.com/justice3120/bitrise-step-open-vpn
source_code_url: https://github.com/justice3120/bitrise-step-open-vpn
support_url: https://github.com/justice3120/bitrise-step-open-vpn/issues
host_os_tags:
  - osx-10.10
  - ubuntu-16.04

type_tags:
  - access-control

is_requires_admin_user: true
is_always_run: false
is_skippable: false
run_if: ""

deps:
  brew:
  - name: openvpn
  apt_get:
  - name: openvpn
  - name: net-tools


toolkit:
  bash:
    entry_file: step.sh

inputs:
  - host:
    opts:
      title: "Host"
      summary: "Open VPN Server IP or Hostname"
      description: |
        ex1. 111.111.111.111
        ex2. hoge.com
      is_expand: true
      is_required: true
  - port: 1194
    opts:
      title: "Port"
      summary: "Open VPN Server Port number"
      is_expand: true
      is_required: true
  - proto: udp
    opts:
      title: "Protocol"
      summary: "Open VPN Server Protocol"
      is_expand: true
      is_required: true
      value_options:
        - udp
        - tcp
  - ca_crt: "$VPN_CA_CRT_BASE64"
    opts:
      title: "Base64 encorded CA Certificate"
      summary: "Base64 encorded CA Certificate"
      is_expand: true
      is_required: true
      is_sensitive: true
  - client_crt: "$VPN_CLIENT_CRT_BASE64"
    opts:
      title: "Base64 encorded Client Certificate"
      summary: "Base64 encorded Client Certificate"
      is_expand: true
      is_required: true
      is_sensitive: true
  - client_key: "$VPN_CLIENT_KEY_BASE64"
    opts:
      title: "Base64 encorded Client Private Key"
      summary: "Base64 encorded Client Private Key"
      is_expand: true
      is_required: true
      is_sensitive: true
